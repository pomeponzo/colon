<style>
   html, body {
       margin: 0;
       padding: 0;
       width: 100%;
       height: auto;
       min-height: 100%;
       overflow-x: hidden;
       overflow-y: auto;
   }

   .app-container {
       box-sizing: border-box;
       font-family: inherit;
       background: linear-gradient(180deg, #fff7fb 0%, #ffffff 60%);
       width: 100%;
       height: 100vh;
       max-height: 100vh;
       display: flex;
       flex-direction: column;
       overflow: hidden;
       font-size: 17px;
   }

   .app-container * {
       margin: 0;
       padding: 0;
       box-sizing: border-box;
   }

   @media (min-width: 600px) {
       .app-container {
           max-width: 500px;
           margin: 0 auto;
       }
   }

   @media (max-width: 600px) {
       .app-container {
           font-size: 15px;
       }
   }

   .app-header {
       display: flex;
       align-items: center;
       justify-content: space-between;
       padding: 12px 16px;
       background: white;
       border-bottom: 1px solid rgba(236, 72, 153, 0.1);
       flex-shrink: 0;
       z-index: 10;
       height: 52px;
       box-shadow: 0 4px 20px rgba(236, 72, 153, 0.08);
   }

   .back-button {
       background: none;
       border: none;
       color: #64748b;
       cursor: pointer;
       padding: 6px;
       border-radius: 8px;
       transition: all 0.2s ease;
       display: flex;
       align-items: center;
       justify-content: center;
       width: 32px;
       height: 32px;
   }

   .back-button:hover {
       background: rgba(236, 72, 153, 0.1);
       color: #db2777;
   }

   .back-button svg {
       width: 18px;
       height: 18px;
   }

   .step-counter {
       font-size: 0.8rem;
       color: #64748b;
       font-weight: 500;
       width: 32px;
       text-align: right;
   }

   .progress-bar {
       height: 2px;
       background: rgba(0, 0, 0, 0.05);
       position: relative;
       overflow: hidden;
       flex-shrink: 0;
   }

   .progress-fill {
       height: 100%;
       background: linear-gradient(90deg, #ec4899 0%, #f472b6 100%);
       transition: width 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);
   }

   .app-content {
       flex: 1;
       display: flex;
       flex-direction: column;
       overflow: hidden;
       padding: 16px;
       min-height: 0;
   }

   .question-section {
       display: none;
       flex: 1;
       flex-direction: column;
       animation: slideIn 0.3s ease;
       overflow: hidden;
   }

   .question-section.active {
       display: flex;
   }

   @keyframes slideIn {
       from {
           opacity: 0;
           transform: translateX(20px);
       }
       to {
           opacity: 1;
           transform: translateX(0);
       }
   }

   .question-header {
       margin-bottom: 16px;
       flex-shrink: 0;
   }

   .question-title {
       font-size: 1.35rem;
       font-weight: 700;
       color: #1e1b4b;
       margin-bottom: 8px;
       line-height: 1.25;
   }

   .question-subtitle {
       font-size: 0.95rem;
       color: #7c7a92;
       line-height: 1.5;
   }

   .options-scroll-container {
       flex: 1;
       overflow-y: auto;
       overflow-x: hidden;
       min-height: 0;
       -webkit-overflow-scrolling: touch;
   }

   .options-container {
       display: flex;
       flex-direction: column;
       gap: 8px;
   }

   .option-card {
       background: #fff;
       border: 2px solid #f8d2e6;
       border-radius: 12px;
       padding: 14px 16px;
       cursor: pointer;
       transition: all 0.2s ease;
       display: flex;
       align-items: center;
       justify-content: flex-start;
       gap: 12px;
       position: relative;
       overflow: hidden;
       text-align: left;
       min-height: 54px;
   }

   .option-card:hover {
       border-color: #f472b6;
       background: rgba(244, 114, 182, 0.05);
       transform: translateY(-1px);
   }

   .option-card.selected {
       border-color: #ec4899;
       background: rgba(236, 72, 153, 0.1);
       box-shadow: 0 6px 18px rgba(236, 72, 153, 0.14);
   }

   .option-emoji {
       font-size: 1.3rem;
       flex-shrink: 0;
   }

   .option-text {
       flex: 1;
       text-align: left;
       font-size: 1rem;
       color: #2f2a3f;
       font-weight: 600;
       line-height: 1.4;
   }

   .action-buttons {
       display: flex;
       gap: 8px;
       padding: 12px 0 0 0;
       flex-shrink: 0;
   }

   .btn {
       flex: 1;
       padding: 14px 20px;
       border: none;
       border-radius: 10px;
       font-size: 0.95rem;
       font-weight: 600;
       cursor: pointer;
       transition: all 0.2s ease;
       display: flex;
       align-items: center;
       justify-content: center;
       gap: 6px;
   }

   .btn-next {
       background: linear-gradient(135deg, #ec4899 0%, #f472b6 100%);
       color: white;
       box-shadow: 0 6px 18px rgba(236, 72, 153, 0.25);
   }

   .btn-next:hover:not(:disabled) {
       transform: translateY(-1px);
       box-shadow: 0 6px 16px rgba(236, 72, 153, 0.3);
   }

   .btn-next:disabled {
       opacity: 0.5;
       cursor: not-allowed;
   }

   .btn-back {
       background: white;
       color: #a21caf;
       border: 2px solid #f3c1d8;
       flex: 0 0 auto;
       padding: 14px 16px;
   }

   .btn-back:hover {
       border-color: #ec4899;
       background: #fff1f7;
   }

   .landing-section {
       display: none;
       flex-direction: column;
       height: 100%;
       overflow-y: auto;
       -webkit-overflow-scrolling: touch;
   }

   .landing-section.active {
       display: flex;
   }

   .landing-header {
       text-align: center;
       margin-bottom: 24px;
       padding-top: 20px;
   }

   .landing-title {
       font-size: 1.7rem;
       font-weight: 800;
       color: #1e1b4b;
       margin-bottom: 12px;
       line-height: 1.25;
   }

   .landing-subtitle {
       font-size: 1rem;
       color: #7c7a92;
       line-height: 1.6;
       margin-bottom: 20px;
   }

   .landing-benefits {
       background: #fff1f7;
       border-radius: 14px;
       padding: 16px;
       margin-bottom: 24px;
       border: 1px solid rgba(236, 72, 153, 0.12);
       box-shadow: 0 8px 22px rgba(236, 72, 153, 0.08);
       text-align: left;
   }

   .benefit-item {
       display: flex;
       align-items: flex-start;
       gap: 10px;
       margin-bottom: 10px;
   }

   .benefit-item:last-child {
       margin-bottom: 0;
   }

   .benefit-icon {
       color: #ec4899;
       font-size: 1.2rem;
       flex-shrink: 0;
   }

   .benefit-text {
       font-size: 0.9rem;
       color: #334155;
       line-height: 1.4;
   }

   .landing-cta {
       margin-top: auto;
       padding-bottom: 20px;
   }

   .results-wrapper {
       display: none;
       flex-direction: column;
       height: 100%;
       overflow-y: auto;
       -webkit-overflow-scrolling: touch;
   }

   .results-wrapper.active {
       display: flex;
   }

   .results-header {
       text-align: center;
       margin-bottom: 24px;
       padding-top: 20px;
   }

   .header-title {
       font-size: 1.4rem;
       font-weight: 700;
       color: #1e293b;
       margin-bottom: 8px;
   }

   .header-subtitle {
       font-size: 0.9rem;
       color: #64748b;
       line-height: 1.4;
   }

   .progress-card {
       background: #fff1f7;
       border-radius: 12px;
       padding: 20px;
       margin-bottom: 20px;
       transition: opacity 0.3s ease;
   }

   .progress-card.hidden {
       opacity: 0;
   }

   .progress-label {
       font-size: 0.85rem;
       color: #64748b;
       margin-bottom: 8px;
       text-align: center;
   }

   .progress-bar-container {
       background: white;
       height: 8px;
       border-radius: 4px;
       overflow: hidden;
       margin-bottom: 4px;
   }

   .progress-bar-fill {
       height: 100%;
       background: linear-gradient(90deg, #ec4899 0%, #f472b6 100%);
       width: 0%;
       transition: width 0.3s ease;
   }

   .progress-percentage {
       font-size: 0.9rem;
       color: #db2777;
       font-weight: 700;
       text-align: center;
   }

   .checklist {
       margin-top: 16px;
   }

   .checklist-item {
       display: flex;
       align-items: center;
       gap: 10px;
       padding: 8px 0;
       opacity: 0.4;
       transition: opacity 0.3s ease;
   }

   .checklist-item.active {
       opacity: 1;
   }

   .checklist-icon {
       width: 20px;
       height: 20px;
       border-radius: 50%;
       border: 2px solid #cbd5e1;
       display: flex;
       align-items: center;
       justify-content: center;
       transition: all 0.3s ease;
   }

   .checklist-item.completed .checklist-icon {
       background: #ec4899;
       border-color: #ec4899;
   }

   .checklist-text {
       font-size: 0.85rem;
       color: #334155;
   }

   .success-card {
       background: linear-gradient(135deg, #ec4899 0%, #f472b6 100%);
       border-radius: 12px;
       padding: 24px;
       text-align: center;
       color: white;
       opacity: 0;
       transform: scale(0.9);
       transition: all 0.4s ease;
       display: none;
   }

   .success-card.visible {
       opacity: 1;
       transform: scale(1);
       display: block;
   }

   .success-icon {
       font-size: 3rem;
       margin-bottom: 12px;
   }

   .success-title {
       font-size: 1.3rem;
       font-weight: 700;
       margin-bottom: 8px;
   }

   .success-subtitle {
       font-size: 0.9rem;
       opacity: 0.9;
   }

   .email-question {
       display: none;
       flex-direction: column;
       gap: 16px;
   }

   .email-card {
       background: #fff1f7;
       border-radius: 12px;
       padding: 20px;
       border: 1px solid rgba(236, 72, 153, 0.12);
   }

   .email-card-title {
       font-size: 1.1rem;
       font-weight: 600;
       color: #1e293b;
       margin-bottom: 12px;
   }

   .email-benefits-list {
       list-style: none;
       margin-bottom: 16px;
   }

   .email-benefits-list li {
       display: flex;
       align-items: flex-start;
       gap: 8px;
       margin-bottom: 8px;
       font-size: 0.85rem;
       color: #334155;
   }

   .email-benefits-list li:last-child {
       margin-bottom: 0;
   }

   .email-input-group {
       display: flex;
       flex-direction: column;
       gap: 8px;
       margin-bottom: 12px;
   }

   .continue-button {
       background: linear-gradient(135deg, #ec4899 0%, #f472b6 100%);
       color: white;
       padding: 14px 20px;
       border: none;
       border-radius: 10px;
       font-size: 0.95rem;
       font-weight: 600;
       cursor: pointer;
       transition: all 0.2s ease;
       width: 100%;
       box-shadow: 0 8px 24px rgba(236, 72, 153, 0.2);
   }

   .continue-button:hover {
       transform: translateY(-1px);
       box-shadow: 0 6px 16px rgba(236, 72, 153, 0.26);
   }

   #sioEmailSlot {
       display: contents;
   }

   #sioEmailSlot form {
       width: 100%;
   }

   /* Pr√©nom + Email : m√™me √©paisseur / m√™me style */
   #sioEmailSlot input[type="email"],
   #sioEmailSlot input[type="text"],
   #sioEmailSlot input[name*="first" i],
   #sioEmailSlot input[name*="prenom" i] {
       width: 100%;
       padding: 14px;
       border: 2px solid #f3c1d8;
       border-radius: 10px;
       font-size: 0.95rem;
       transition: all 0.2s ease;
   }

   #sioEmailSlot input[type="email"]:focus,
   #sioEmailSlot input[type="text"]:focus,
   #sioEmailSlot input[name*="first" i]:focus,
   #sioEmailSlot input[name*="prenom" i]:focus {
       outline: none;
       border-color: #ec4899;
       box-shadow: 0 0 0 4px rgba(236, 72, 153, 0.16);
   }

   .encouragement-text {
       margin-top: 4px;
       font-size: 0.95rem;
       color: #a21caf;
       font-weight: 600;
       text-align: center;
   }
</style>

<div class="app-container">
   <div class="app-header">
       <button class="back-button" id="backBtn" onclick="goBack()">
           <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
               <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
           </svg>
       </button>
       <div class="step-counter" id="stepCounter">1/12</div>
   </div>
   <div class="progress-bar">
       <div class="progress-fill" id="progressFill"></div>
   </div>
   <div class="app-content">
       <!-- Page d'accueil -->
       <div class="landing-section active" id="landing">
           <div class="landing-header">
              <div class="landing-title">Quel est VOTRE type m√©tabolique hormonal ?</div>
              <div class="landing-subtitle">D√©couvrez en 2 minutes quelle hormone pourrait freiner votre perte de poids... et la m√©thode naturelle pour peut-√™tre retrouver le m√©tabolisme de vos 35 ans</div>
           </div>
           <div class="landing-benefits">
               <div class="benefit-item">
                  <div class="benefit-icon">‚úÖ</div>
                  <div class="benefit-text">Quel d√©s√©quilibre hormonal a probablement ralenti votre m√©tabolisme ces derni√®res ann√©es</div>
              </div>
              <div class="benefit-item">
                  <div class="benefit-icon">‚úÖ</div>
                  <div class="benefit-text">Pourquoi les r√©gimes traditionnels ne sont plus adapt√©s</div>
              </div>
               <div class="benefit-item">
                   <div class="benefit-icon">‚úÖ</div>
                   <div class="benefit-text">Comment la nutrition hormonale peut transformer votre corps sans r√©gimes drastiques</div>
               </div>
           </div>
           <div class="landing-cta">
               <button class="btn btn-next" onclick="startQuiz()">
                   D√©marrer le quiz gratuit
                   <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                   </svg>
               </button>
           </div>
       </div>

       <!-- Question 1 -->
       <div class="question-section" id="q1">
           <div class="question-header">
               <div class="question-title">Cette ann√©e, j'ai...</div>
           </div>
           <div class="options-scroll-container">
               <div class="options-container">
                   <div class="option-card" data-question="q1" data-value="38-43">
                       <span class="option-emoji">üå±</span>
                       <div class="option-text">Entre 38-43 ans et je sens les premiers changements dans mon corps</div>
                   </div>
                   <div class="option-card" data-question="q1" data-value="44-52">
                       <span class="option-emoji">üå∏</span>
                       <div class="option-text">Entre 44-52 ans et je traverse la m√©nopause</div>
                   </div>
                   <div class="option-card" data-question="q1" data-value="53-60">
                       <span class="option-emoji">üå∑</span>
                       <div class="option-text">Entre 53-60 ans et je suis en post-m√©nopause</div>
                   </div>
                   <div class="option-card" data-question="q1" data-value="60+">
                       <span class="option-emoji">üí´</span>
                       <div class="option-text">Plus de 60 ans et je souhaite retrouver ma vitalit√©</div>
                   </div>
               </div>
           </div>
       </div>

       <!-- Question 2 -->
       <div class="question-section" id="q2">
           <div class="question-header">
               <div class="question-title">Quand je pense √† retrouver mon corps id√©al, je m'imagine surtout...</div>
           </div>
           <div class="options-scroll-container">
               <div class="options-container">
                   <div class="option-card" data-question="q2" data-value="energie">
                       <span class="option-emoji">‚ö°</span>
                       <div class="option-text">Retrouver mon √©nergie d'avant et ne plus me sentir √©puis√©e</div>
                   </div>
                   <div class="option-card" data-question="q2" data-value="vetements">
                       <span class="option-emoji">üëó</span>
                       <div class="option-text">Rentrer √† nouveau dans mes v√™tements pr√©f√©r√©s</div>
                   </div>
                   <div class="option-card" data-question="q2" data-value="sante">
                       <span class="option-emoji">üåø</span>
                       <div class="option-text">Am√©liorer ma sant√© globale et mon bien-√™tre</div>
                   </div>
                   <div class="option-card" data-question="q2" data-value="confiance">
                       <span class="option-emoji">üíñ</span>
                       <div class="option-text">Retrouver confiance en moi et me sentir d√©sirable</div>
                   </div>
               </div>
           </div>
       </div>

       <!-- Question 3 -->
       <div class="question-section" id="q3">
           <div class="question-header">
               <div class="question-title">Si je pouvais obtenir UN r√©sultat dans les 21 prochains jours, ce serait...</div>
           </div>
           <div class="options-scroll-container">
               <div class="options-container">
                   <div class="option-card" data-question="q3" data-value="perdre">
                       <span class="option-emoji">üìâ</span>
                       <div class="option-text">Perdre mes premiers kilos et voir une diff√©rence visible</div>
                   </div>
                   <div class="option-card" data-question="q3" data-value="energie">
                       <span class="option-emoji">üåû</span>
                       <div class="option-text">Retrouver mon √©nergie et r√©duire ma fatigue chronique</div>
                   </div>
                   <div class="option-card" data-question="q3" data-value="symptomes">
                       <span class="option-emoji">‚ùÑÔ∏è</span>
                       <div class="option-text">Diminuer les bouff√©es de chaleur et autres sympt√¥mes</div>
                   </div>
                   <div class="option-card" data-question="q3" data-value="plan">
                       <span class="option-emoji">üó∫Ô∏è</span>
                       <div class="option-text">Avoir un plan clair que je peux suivre facilement</div>
                   </div>
                   <div class="option-card" data-question="q3" data-value="controle">
                       <span class="option-emoji">üéØ</span>
                       <div class="option-text">Me sentir √† nouveau en contr√¥le de mon corps</div>
                   </div>
               </div>
           </div>
           <div class="encouragement-text">üå∑ Vous avancez merveilleusement bien, continuez !</div>
       </div>

       <!-- Question 4 -->
       <div class="question-section" id="q4">
           <div class="question-header">
               <div class="question-title">Jusqu'√† pr√©sent, j'ai essay√©...</div>
           </div>
           <div class="options-scroll-container">
               <div class="options-container">
                   <div class="option-card" data-question="q4" data-value="regimes">
                       <span class="option-emoji">ü•ó</span>
                       <div class="option-text">De suivre des r√©gimes restrictifs (faibles en calories, sans glucides, etc.)</div>
                   </div>
                   <div class="option-card" data-question="q4" data-value="sport">
                       <span class="option-emoji">üèÉ‚Äç‚ôÄÔ∏è</span>
                       <div class="option-text">D'augmenter mon activit√© physique</div>
                   </div>
                   <div class="option-card" data-question="q4" data-value="complements">
                       <span class="option-emoji">üíä</span>
                       <div class="option-text">De prendre des compl√©ments alimentaires ou substituts de repas</div>
                   </div>
                   <div class="option-card" data-question="q4" data-value="ths">
                       <span class="option-emoji">ü©∫</span>
                       <div class="option-text">Un traitement hormonal de substitution (THS)</div>
                   </div>
                   <div class="option-card" data-question="q4" data-value="plusieurs">
                       <span class="option-emoji">üîÑ</span>
                       <div class="option-text">Plusieurs de ces options, sans r√©sultats durables</div>
                   </div>
               </div>
           </div>
       </div>

       <!-- Question 5 -->
       <div class="question-section" id="q5">
           <div class="question-header">
               <div class="question-title">Actuellement, vous mangez...</div>
           </div>
           <div class="options-scroll-container">
               <div class="options-container">
                   <div class="option-card" data-question="q5" data-value="pouce">
                       <span class="option-emoji">üç±</span>
                       <div class="option-text">Souvent sur le pouce ou √† l'ext√©rieur</div>
                   </div>
                   <div class="option-card" data-question="q5" data-value="cuisine">
                       <span class="option-emoji">üç≥</span>
                       <div class="option-text">Je cuisine la plupart de mes repas</div>
                   </div>
                   <div class="option-card" data-question="q5" data-value="regime">
                       <span class="option-emoji">ü•ë</span>
                       <div class="option-text">Je suis un r√©gime sp√©cifique (faible en glucides, v√©g√©tarien, etc.)</div>
                   </div>
                   <div class="option-card" data-question="q5" data-value="portions">
                       <span class="option-emoji">üìè</span>
                       <div class="option-text">Je tente de contr√¥ler mes portions, mais c'est difficile</div>
                   </div>
                   <div class="option-card" data-question="q5" data-value="normal">
                       <span class="option-emoji">üçΩÔ∏è</span>
                       <div class="option-text">Je mange normalement mais prends quand m√™me du poids</div>
                   </div>
               </div>
           </div>
       </div>

       <!-- Question 6 -->
       <div class="question-section" id="q6">
           <div class="question-header">
               <div class="question-title">Parmi ces sympt√¥mes, ceux qui me concernent le plus sont...</div>
           </div>
           <div class="options-scroll-container">
               <div class="options-container">
                   <div class="option-card" data-question="q6" data-value="bouffees">
                       <span class="option-emoji">üî•</span>
                       <div class="option-text">Des bouff√©es de chaleur et sueurs nocturnes</div>
                   </div>
                   <div class="option-card" data-question="q6" data-value="fatigue">
                       <span class="option-emoji">üòÆ‚Äçüí®</span>
                       <div class="option-text">Une fatigue persistante et un manque d'√©nergie</div>
                   </div>
                   <div class="option-card" data-question="q6" data-value="sommeil">
                       <span class="option-emoji">üò¥</span>
                       <div class="option-text">Des troubles du sommeil</div>
                   </div>
                   <div class="option-card" data-question="q6" data-value="poids">
                       <span class="option-emoji">‚öñÔ∏è</span>
                       <div class="option-text">Une prise de poids inexpliqu√©e, surtout au niveau du ventre</div>
                   </div>
                   <div class="option-card" data-question="q6" data-value="humeur">
                       <span class="option-emoji">üåßÔ∏è</span>
                       <div class="option-text">Des sautes d'humeur et de l'irritabilit√©</div>
                   </div>
                   <div class="option-card" data-question="q6" data-value="plusieurs">
                       <span class="option-emoji">üåà</span>
                       <div class="option-text">Plusieurs de ces sympt√¥mes en m√™me temps</div>
                   </div>
               </div>
           </div>
       </div>

       <!-- Question 7 -->
       <div class="question-section" id="q7">
           <div class="question-header">
               <div class="question-title">Malgr√© mes efforts, je n'arrive pas √† perdre du poids parce que...</div>
           </div>
           <div class="options-scroll-container">
               <div class="options-container">
                   <div class="option-card" data-question="q7" data-value="metabolisme">
                       <span class="option-emoji">üßä</span>
                       <div class="option-text">Mon m√©tabolisme semble compl√®tement bloqu√©</div>
                   </div>
                   <div class="option-card" data-question="q7" data-value="stagnation">
                       <span class="option-emoji">‚è∏Ô∏è</span>
                       <div class="option-text">Quand je commence un r√©gime, √ßa fonctionne puis je stagne rapidement</div>
                   </div>
                   <div class="option-card" data-question="q7" data-value="stockage">
                       <span class="option-emoji">üì¶</span>
                       <div class="option-text">Mon corps stocke les graisses beaucoup plus facilement qu'avant</div>
                   </div>
                   <div class="option-card" data-question="q7" data-value="fringales">
                       <span class="option-emoji">üç∞</span>
                       <div class="option-text">J'ai constamment des fringales et des envies de sucre</div>
                   </div>
                   <div class="option-card" data-question="q7" data-value="fatiguee">
                       <span class="option-emoji">üí§</span>
                       <div class="option-text">Je me sens trop fatigu√©e pour maintenir mes efforts</div>
                   </div>
                   <div class="option-card" data-question="q7" data-value="plusieurs">
                       <span class="option-emoji">ü§ù</span>
                       <div class="option-text">Plusieurs de ces situations</div>
                   </div>
               </div>
           </div>
           <div class="encouragement-text">‚ú® Courage, chaque r√©ponse nous aide √† vous cr√©er un plan sur-mesure.</div>
       </div>

       <!-- Question 8 -->
       <div class="question-section" id="q8">
           <div class="question-header">
               <div class="question-title">Ce qui me frustre le PLUS avec mon corps actuel, c'est que...</div>
           </div>
           <div class="options-scroll-container">
               <div class="options-container">
                   <div class="option-card" data-question="q8" data-value="medecin">
                       <span class="option-emoji">ü©∫</span>
                       <div class="option-text">J'ai l'impression que mon m√©decin ne comprend pas ce que je traverse</div>
                   </div>
                   <div class="option-card" data-question="q8" data-value="coupable">
                       <span class="option-emoji">üòî</span>
                       <div class="option-text">Je me sens coupable apr√®s chaque repas ou √©cart</div>
                   </div>
                   <div class="option-card" data-question="q8" data-value="contre">
                       <span class="option-emoji">ü§∑‚Äç‚ôÄÔ∏è</span>
                       <div class="option-text">J'ai l'impression que mon corps travaille contre moi</div>
                   </div>
                   <div class="option-card" data-question="q8" data-value="epuisee">
                       <span class="option-emoji">üòÆ‚Äçüí®</span>
                       <div class="option-text">Je suis √©puis√©e d'essayer sans voir de r√©sultats durables</div>
                   </div>
                   <div class="option-card" data-question="q8" data-value="miroir">
                       <span class="option-emoji">ü™û</span>
                       <div class="option-text">Je ne me reconnais plus dans le miroir</div>
                   </div>
               </div>
           </div>
       </div>

       <!-- Question 9 -->
       <div class="question-section" id="q9">
           <div class="question-header">
               <div class="question-title">Ma plus grande peur concernant mon poids et ma sant√© est...</div>
               <div class="question-subtitle">La raison pour laquelle nous posons cette question est que nous devons comprendre vos pr√©occupations pour mieux vous aider √† les surmonter.</div>
           </div>
           <div class="options-scroll-container">
               <div class="options-container">
                   <div class="option-card" data-question="q9" data-value="jamais">
                       <span class="option-emoji">‚è≥</span>
                       <div class="option-text">J'ai peur de ne jamais retrouver mon poids et mon √©nergie d'avant</div>
                   </div>
                   <div class="option-card" data-question="q9" data-value="definitif">
                       <span class="option-emoji">üß≠</span>
                       <div class="option-text">J'ai peur que ces changements soient d√©finitifs et irr√©versibles</div>
                   </div>
                   <div class="option-card" data-question="q9" data-value="sante">
                       <span class="option-emoji">ü©∫</span>
                       <div class="option-text">Je m'inqui√®te des cons√©quences sur ma sant√© √† long terme</div>
                   </div>
                   <div class="option-card" data-question="q9" data-value="activites">
                       <span class="option-emoji">üö¥‚Äç‚ôÄÔ∏è</span>
                       <div class="option-text">Je redoute de devoir renoncer √† certaines activit√©s √† cause de mon poids</div>
                   </div>
                   <div class="option-card" data-question="q9" data-value="apparence">
                       <span class="option-emoji">üí¨</span>
                       <div class="option-text">Je crains que mon apparence affecte ma vie personnelle et professionnelle</div>
                   </div>
               </div>
           </div>
       </div>

       <!-- Question 10 -->
       <div class="question-section" id="q10">
           <div class="question-header">
               <div class="question-title">La raison pour laquelle je n'ai pas encore r√©solu ce probl√®me est...</div>
           </div>
           <div class="options-scroll-container">
               <div class="options-container">
                   <div class="option-card" data-question="q10" data-value="methode">
                       <span class="option-emoji">üß™</span>
                       <div class="option-text">Je n'ai pas trouv√© de m√©thode adapt√©e √† mes nouveaux besoins hormonaux</div>
                   </div>
                   <div class="option-card" data-question="q10" data-value="avant">
                       <span class="option-emoji">‚èÆÔ∏è</span>
                       <div class="option-text">Les m√©thodes qui fonctionnaient avant ne marchent plus du tout</div>
                   </div>
                   <div class="option-card" data-question="q10" data-value="energie">
                       <span class="option-emoji">üîã</span>
                       <div class="option-text">Je manque d'√©nergie pour me consacrer √† moi-m√™me</div>
                   </div>
                   <div class="option-card" data-question="q10" data-value="perdue">
                       <span class="option-emoji">üß≠</span>
                       <div class="option-text">Je suis perdue face aux informations contradictoires</div>
                   </div>
                   <div class="option-card" data-question="q10" data-value="bataille">
                       <span class="option-emoji">üõ°Ô∏è</span>
                       <div class="option-text">J'ai l'impression que c'est une bataille perdue d'avance</div>
                   </div>
               </div>
           </div>
           <div class="encouragement-text">üíñ Vous n'√™tes pas seule, on arrive au bout du parcours !</div>
       </div>

       <!-- Question 11 -->
       <div class="question-section" id="q11">
           <div class="question-header">
               <div class="question-title">J'ai ce probl√®me de poids et de fatigue depuis...</div>
           </div>
           <div class="options-scroll-container">
               <div class="options-container">
                   <div class="option-card" data-question="q11" data-value="moins1">
                       <span class="option-emoji">üåü</span>
                       <div class="option-text">Moins d'un an (d√©but de p√©rim√©nopause)</div>
                   </div>
                   <div class="option-card" data-question="q11" data-value="1-3">
                       <span class="option-emoji">üìÜ</span>
                       <div class="option-text">Entre 1 et 3 ans (m√©nopause install√©e)</div>
                   </div>
                   <div class="option-card" data-question="q11" data-value="3-5">
                       <span class="option-emoji">üß©</span>
                       <div class="option-text">Entre 3 et 5 ans (j'ai tout essay√©)</div>
                   </div>
                   <div class="option-card" data-question="q11" data-value="plus5">
                       <span class="option-emoji">üìà</span>
                       <div class="option-text">Plus de 5 ans (je commence √† perdre espoir)</div>
                   </div>
                   <div class="option-card" data-question="q11" data-value="toujours">
                       <span class="option-emoji">‚ôæÔ∏è</span>
                       <div class="option-text">Aussi longtemps que je m'en souvienne</div>
                   </div>
               </div>
           </div>
       </div>

       <!-- Question 12 -->
       <div class="question-section" id="q12">
           <div class="question-header">
               <div class="question-title">Honn√™tement, je me sens...</div>
               <div class="question-subtitle">Cette question nous aide √† personnaliser votre plan.</div>
           </div>
           <div class="options-scroll-container">
               <div class="options-container">
                   <div class="option-card" data-question="q12" data-value="frustree">
                       <span class="option-emoji">üí™</span>
                       <div class="option-text">Frustr√©e et d√©courag√©e, mais pr√™te √† essayer une nouvelle approche</div>
                   </div>
                   <div class="option-card" data-question="q12" data-value="epuisee">
                       <span class="option-emoji">ü´Ç</span>
                       <div class="option-text">√âpuis√©e par tous ces efforts sans r√©sultats, mais j'ai encore de l'espoir</div>
                   </div>
                   <div class="option-card" data-question="q12" data-value="colere">
                       <span class="option-emoji">üò†</span>
                       <div class="option-text">En col√®re contre mon corps qui ne r√©pond plus comme avant</div>
                   </div>
                   <div class="option-card" data-question="q12" data-value="honteuse">
                       <span class="option-emoji">üôà</span>
                       <div class="option-text">Honteuse de ne pas arriver √† contr√¥ler mon poids</div>
                   </div>
                   <div class="option-card" data-question="q12" data-value="perdue">
                       <span class="option-emoji">üå´Ô∏è</span>
                       <div class="option-text">Perdue et confuse, je ne sais plus quoi faire</div>
                   </div>
               </div>
           </div>
           <div class="encouragement-text">üå∏ Plus qu'une √©tape avant vos r√©sultats personnalis√©s !</div>
       </div>

       <!-- Page r√©sultats -->
       <div class="results-wrapper" id="resultsWrapper">
           <div class="results-header">
               <div class="header-title">üéØ Votre analyse est pr√™te !</div>
               <div class="header-subtitle">Nous analysons vos r√©ponses pour d√©terminer votre type m√©tabolique hormonal...</div>
           </div>

           <!-- Carte de progression -->
           <div class="progress-card" id="searchProgressCard">
               <div class="progress-label">Analyse en cours</div>
               <div class="progress-bar-container">
                   <div class="progress-bar-fill" id="searchProgressBar"></div>
               </div>
               <div class="progress-percentage" id="searchProgressPercentage">0%</div>
               <div class="checklist">
                   <div class="checklist-item">
                       <div class="checklist-icon">‚è≥</div>
                       <div class="checklist-text">Analyse de vos r√©ponses...</div>
                   </div>
                   <div class="checklist-item">
                       <div class="checklist-icon">‚è≥</div>
                       <div class="checklist-text">Identification de votre profil hormonal...</div>
                   </div>
                   <div class="checklist-item">
                       <div class="checklist-icon">‚è≥</div>
                       <div class="checklist-text">Calcul de votre type m√©tabolique...</div>
                   </div>
                   <div class="checklist-item">
                       <div class="checklist-icon">‚è≥</div>
                       <div class="checklist-text">Pr√©paration de votre plan personnalis√©...</div>
                   </div>
                   <div class="checklist-item">
                       <div class="checklist-icon">‚è≥</div>
                       <div class="checklist-text">Finalisation de votre profil...</div>
                   </div>
               </div>
           </div>

           <!-- Carte de succ√®s -->
           <div class="success-card" id="searchSuccessCard">
               <div class="success-icon">‚úÖ</div>
               <div class="success-title">Analyse termin√©e !</div>
               <div class="success-subtitle">Votre profil m√©tabolique hormonal est maintenant pr√™t</div>
               <button class="continue-button" onclick="showEmailQuestion()" style="margin-top: 16px; width: 100%;">
                   Voir mes r√©sultats
               </button>
           </div>

           <!-- Question email -->
           <div class="email-question" id="emailQuestion">
               <div class="email-card">
                   <div class="email-card-title">Entrez votre email pour recevoir instantan√©ment :</div>
                   <ul class="email-benefits-list">
                       <li>‚úÖ Votre type m√©tabolique hormonal d√©taill√©</li>
                       <li>‚úÖ Pourquoi votre corps r√©siste √† la perte de poids</li>
                       <li>‚úÖ Le plan d'action personnalis√© pour r√©√©quilibrer vos hormones en 21 jours</li>
                   </ul>
                   <div class="email-input-group">
                       <div id="sioEmailSlot">
                           <div id="sioEmailLoading" style="padding: 14px; text-align: center; color: #64748b;">
                               Chargement du formulaire...
                           </div>
                       </div>
                   </div>
                   <button class="continue-button" id="emailSubmitBtn">
                       Recevoir mes r√©sultats gratuits ‚Üí
                   </button>
               </div>
           </div>
       </div>
   </div>
</div>

<script>
   let currentStep = 0;
   const totalSteps = 12;
   const selections = {};

   function startQuiz() {
       showSection(1);
   }

   function showSection(step) {
       // Cacher tout
       document.getElementById('landing').style.display = 'none';
       document.getElementById('resultsWrapper').classList.remove('active');
       document.querySelectorAll('.question-section').forEach(q => {
           q.style.display = 'none';
           q.classList.remove('active');
       });

       // Afficher la section appropri√©e
       if (step === 0) {
           document.getElementById('landing').style.display = 'flex';
       } else if (step > totalSteps) {
           document.getElementById('resultsWrapper').classList.add('active');
           startSearchProgress();
       } else {
           const question = document.getElementById('q' + step);
           if (question) {
               question.style.display = 'flex';
               question.classList.add('active');
               const savedValue = selections['q' + step];
               const cards = question.querySelectorAll('.option-card');
               cards.forEach(card => {
                   card.classList.toggle('selected', card.dataset.value === savedValue);
               });
           }
       }

       currentStep = step;
       updateProgress();
       updateStepIndicator();
       updateButtons();
   }

   function nextQuestion() {
       if (currentStep <= totalSteps) {
           showSection(currentStep + 1);
       }
   }

   function goBack() {
       if (currentStep > 0) {
           showSection(currentStep - 1);
       }
   }

   function updateProgress() {
       const progressFill = document.getElementById('progressFill');
       const percentage = (currentStep / totalSteps) * 100;
       progressFill.style.width = percentage + '%';
   }

   function updateStepIndicator() {
       const stepCounter = document.getElementById('stepCounter');
       const backBtn = document.getElementById('backBtn');
       
       if (currentStep === 0) {
           stepCounter.textContent = '';
           backBtn.style.opacity = '0';
           backBtn.style.pointerEvents = 'none';
       } else if (currentStep <= totalSteps) {
           stepCounter.textContent = currentStep + '/' + totalSteps;
           backBtn.style.opacity = '1';
           backBtn.style.pointerEvents = 'auto';
       } else {
           stepCounter.textContent = '';
           backBtn.style.opacity = '0';
           backBtn.style.pointerEvents = 'none';
       }
   }

   function updateButtons() {
       if (currentStep === 0 || currentStep > totalSteps) return;
       
       const question = document.getElementById('q' + currentStep);
       if (!question) return;

       const nextBtn = question.querySelector('.btn-next');
       if (!nextBtn) return;

       const isValid = !!question.querySelector('.option-card.selected');
       nextBtn.disabled = !isValid;
   }

   // Event listeners pour les cartes d'options
   document.addEventListener('DOMContentLoaded', function() {
       document.querySelectorAll('.option-card').forEach(card => {
           card.addEventListener('click', function() {
               const question = this.closest('.question-section');
               if (!question || !question.id) return;

               const cards = question.querySelectorAll('.option-card');
               cards.forEach(c => c.classList.remove('selected'));

               this.classList.add('selected');
               selections[question.id] = this.dataset.value;

               updateButtons();

               setTimeout(() => {
                   if (question.classList.contains('active')) {
                       nextQuestion();
                   }
               }, 180);
           });
       });

       // Initialiser l'affichage
       showSection(0);
   });

   let searchProgress = 0;
   let currentSearchStep = 0;
   const totalSearchSteps = 5;

   function startSearchProgress() {
       searchProgress = 0;
       currentSearchStep = 0;
       const bar = document.getElementById('searchProgressBar');
       const percentage = document.getElementById('searchProgressPercentage');
       const items = document.querySelectorAll('.checklist-item');
       
       bar.style.width = '0%';
       percentage.textContent = '0%';
       items.forEach(item => item.classList.remove('active', 'completed'));
       
       setTimeout(updateSearchProgress, 500);
   }

   function updateSearchProgress() {
       const bar = document.getElementById('searchProgressBar');
       const percentage = document.getElementById('searchProgressPercentage');
       const items = document.querySelectorAll('.checklist-item');

       searchProgress += 2;
       if (searchProgress > 100) searchProgress = 100;

       bar.style.width = searchProgress + '%';
       percentage.textContent = Math.floor(searchProgress) + '%';

       const stepProgress = Math.floor((searchProgress / 100) * totalSearchSteps);
       if (stepProgress > currentSearchStep) {
           for (let i = currentSearchStep; i < stepProgress && i < totalSearchSteps; i++) {
               setTimeout(() => {
                   items[i].classList.add('active');
                   setTimeout(() => {
                       items[i].classList.add('completed');
                   }, 200);
               }, i * 100);
           }
           currentSearchStep = stepProgress;
       }

       if (searchProgress < 100) {
           setTimeout(updateSearchProgress, 100);
       } else {
           items.forEach((item, index) => {
               setTimeout(() => {
                   item.classList.add('active', 'completed');
               }, index * 50);
           });
           setTimeout(showSearchSuccess, 1500);
       }
   }

   function showSearchSuccess() {
       const progressCard = document.getElementById('searchProgressCard');
       const successCard = document.getElementById('searchSuccessCard');
       const headerTitle = document.querySelector('#resultsWrapper .header-title');

       progressCard.classList.add('hidden');
       headerTitle.style.opacity = '0';
       headerTitle.style.transform = 'translateY(-20px)';

       setTimeout(() => {
           progressCard.style.display = 'none';
           headerTitle.style.display = 'none';
           successCard.classList.add('visible');
       }, 400);
   }

   function showEmailQuestion() {
       const successCard = document.getElementById('searchSuccessCard');
       const emailQuestion = document.getElementById('emailQuestion');
       successCard.style.display = 'none';
       emailQuestion.style.display = 'flex';
   }
</script>

<script>
(function () {
  // --- LOG UTILITAIRE ---
  function dbg() {
    if (!window.console) return;
    var args = Array.prototype.slice.call(arguments);
    args.unshift('%c[QUIZ]', 'color:#10b981;font-weight:bold');
    console.log.apply(console, args);
  }

  var MAX_TRIES = 40;   // 40 * 300ms ‚âà 12s max d‚Äôattente
  var TRY_DELAY = 300;

  function setupBridge() {
    var slot    = document.getElementById('sioEmailSlot');
    var quizBtn = document.getElementById('emailSubmitBtn');

    if (!slot || !quizBtn) {
      dbg('slot ou quizBtn pas encore l√†', { slot: !!slot, quizBtn: !!quizBtn });
      return false;
    }

    // On remonte jusqu‚Äôau formulaire SIO qui entoure ton bloc HTML
    var form = slot.closest('form');
    if (!form) {
      dbg('Aucun <form> anc√™tre trouv√© pour le slot');
      return false;
    }

    // Helper : prendre le premier √©l√©ment d‚Äôune NodeList qui N‚ÄôEST PAS dans le slot du quiz
    function firstOutsideSlot(nodeList) {
      for (var i = 0; i < nodeList.length; i++) {
        if (!slot.contains(nodeList[i])) {
          return nodeList[i];
        }
      }
      return null;
    }

    // Champs r√©els Systeme.io (EN DEHORS du bloc du quiz)
    var realEmail = firstOutsideSlot(
      form.querySelectorAll('input[type="email"], input[name*="email" i]')
    );
    var realFirst = firstOutsideSlot(
      form.querySelectorAll('input[name*="first" i], input[name*="prenom" i], input[type="text"]')
    );
    var realBtn = firstOutsideSlot(
      form.querySelectorAll('button[type="submit"], input[type="submit"], button[id^="button-"], a[id^="button-"]')
    );

    dbg('Bridge trouv√© ?', {
      formFound: !!form,
      realEmailFound: !!realEmail,
      realFirstFound: !!realFirst,
      realBtnFound: !!realBtn,
      formId: form.id || null
    });

    // Sans email ni bouton, on ne peut rien faire
    if (!realEmail || !realBtn) {
      return false;
    }

    // OPTIONNEL : cacher le bloc natif Systeme.io
    var formSection = form.closest('[id^="section-"]') || form;
    formSection.style.maxHeight     = '0';
    formSection.style.overflow      = 'hidden';
    formSection.style.opacity       = '0';
    formSection.style.pointerEvents = 'none';

    // On remplace le "Chargement du formulaire..." par nos champs visibles du quiz
    slot.innerHTML = '';

    var wrapper = document.createElement('div');
    wrapper.style.display = 'flex';
    wrapper.style.flexDirection = 'column';
    wrapper.style.gap = '8px';

    var firstInput = document.createElement('input');
    firstInput.type = 'text';
    firstInput.name = 'quiz-first-name';
    firstInput.placeholder = 'Pr√©nom';
    firstInput.required = true;

    var emailInput = document.createElement('input');
    emailInput.type = 'email';
    emailInput.name = 'quiz-email';
    emailInput.placeholder = 'Votre email';
    emailInput.required = true;

    wrapper.appendChild(firstInput);
    wrapper.appendChild(emailInput);
    slot.appendChild(wrapper);

    function copyValuesToSysteme() {
      if (realFirst) realFirst.value = firstInput.value;
      realEmail.value = emailInput.value;
    }

    quizBtn.addEventListener('click', function (e) {
      e.preventDefault();
      dbg('Click sur bouton QUIZ');

      // Mini validation
      if (!firstInput.value.trim()) {
        firstInput.focus();
        return;
      }
      if (!emailInput.value.trim() || emailInput.value.indexOf('@') === -1) {
        emailInput.focus();
        if (emailInput.reportValidity) emailInput.reportValidity();
        return;
      }

      // Copie dans les VRAIS champs Systeme.io
      copyValuesToSysteme();
      dbg('Valeurs copi√©es vers SIO', {
        prenom: realFirst ? realFirst.value : null,
        email: realEmail.value
      });

      // Soumission native du formulaire Systeme.io
      if (form.requestSubmit) {
        dbg('form.requestSubmit()');
        form.requestSubmit();
      } else {
        dbg('form.submit()');
        form.submit();
      }

      // üëâ SI TU VEUX FORCER UNE REDIRECTION APR√àS OPTIN :
      // window.location.href = 'TON_URL_DE_REDIRECT_ICI';
    });

    return true;
  }

  function init() {
    var tries = 0;
    var intervalId = setInterval(function () {
      tries++;
      if (setupBridge()) {
        dbg('Bridge SIO/QUIZ initialis√© ‚úÖ');
        clearInterval(intervalId);
      } else if (tries >= MAX_TRIES) {
        dbg('Bridge SIO/QUIZ non initialis√© ‚ùå');
        clearInterval(intervalId);
      }
    }, TRY_DELAY);
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
})();
</script>
</body>
</html>
